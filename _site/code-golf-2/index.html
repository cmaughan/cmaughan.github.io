<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Code Golf 2 - ChrisMaughan.com</title>




<meta name="description" content="At the York Code Dojo this week, the challenge was to create a small program that output the childrens nursery rhyme “There was an old lady who swallowed a fly…”">




<meta property="og:locale" content="en">
<meta property="og:site_name" content="ChrisMaughan.com">
<meta property="og:title" content="Code Golf 2">


  <link rel="canonical" href="http://localhost:4000/code-golf-2/">
  <meta property="og:url" content="http://localhost:4000/code-golf-2/">



  <meta property="og:description" content="At the York Code Dojo this week, the challenge was to create a small program that output the childrens nursery rhyme “There was an old lady who swallowed a fly…”">



  <meta name="twitter:site" content="@cmaughan">
  <meta name="twitter:title" content="Code Golf 2">
  <meta name="twitter:description" content="At the York Code Dojo this week, the challenge was to create a small program that output the childrens nursery rhyme “There was an old lady who swallowed a fly…”">
  <meta name="twitter:url" content="http://localhost:4000/code-golf-2/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="http://localhost:4000/images/site/hand_door_large.png">
    
  

  



  

  



  <meta property="og:image" content="http://localhost:4000/images/site/hand_door_large.png">



  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-02-18T00:00:00+00:00">






  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000",
      "logo": "http://localhost:4000/images/site/hand_door_large.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Chris Maughan",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="ChrisMaughan.com Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:4000/">ChrisMaughan.com</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/">Posts</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/projects">Projects</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    



<div id="main" role="main">
  
  <div class="sidebar sticky">
  

<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="http://localhost:4000/images/site/me.jpg#%20path%20of%20avatar%20image" class="author__avatar" alt="Chris Maughan" itemprop="image">
      
    </div>
  

  <div class="author__content">
    <h3 class="author__name" itemprop="name">Chris Maughan</h3>
    
      <p class="author__bio" itemprop="description">
        A coder for NVIDIA, and triathlete when my body lets me. I like to learn new things.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">York, UK</span>
        </li>
      

      

      

      

      
        <li>
          <a href="https://twitter.com/cmaughan" itemprop="sameAs">
            <i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
          </a>
        </li>
      

      
        <li>
          <a href="https://www.facebook.com/mornymorny" itemprop="sameAs">
            <i class="fa fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook
          </a>
        </li>
      

      

      
        <li>
          <a href="https://www.linkedin.com/in/chrismaughan" itemprop="sameAs">
            <i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/cmaughan" itemprop="sameAs">
            <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      
        <li>
          <a href="https://www.stackoverflow.com/users/18942/cmaughan" itemprop="sameAs">
            <i class="fa fa-fw fa-stack-overflow" aria-hidden="true"></i> Stackoverflow
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fa fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Code Golf 2">
    <meta itemprop="description" content="At the York Code Dojo this week, the challenge was to create a small program that output the childrens nursery rhyme “There was an old lady who swallowed a fly…”">
    <meta itemprop="datePublished" content="February 18, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Code Golf 2
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  2 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>At the York Code Dojo this week, the challenge was to create a small program that output the childrens nursery rhyme “There was an old lady who swallowed a fly…”</p>

<p>Myself and my partner Mahy approached it using C++.</p>

<p>Our solution works by making an array of commonly used words and splicing them together using some rather convoluted code!  I think it could still go a little smaller, but it does get hard to tweak the more ‘optimal’ you make it.  There are some repeated words that could probably save a bit more.
The final size of the program is somewhere below 700 bytes.</p>

<p>A few simple tricks:</p>
<ul>
  <li>The macro saves characters, and completes the previous line</li>
  <li>There is in inner loop for the repeated verse which selects pairs of animals</li>
  <li>initializing the ints globaly sets them to zero (something I’d forgotten)</li>
</ul>

<p>The point of this exercise is to get you to think outside the box, and gain a deeper understanding of the limitations &amp; features of the language you choose.  There’s a theory that says our perception of the world is based on the internal language we use to describe it.  Certainly, it is true for programming languages; they each have their quirks.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#include&lt;iostream&gt;
#define Q ;std::cout&lt;&lt;u
</span><span class="kt">char</span><span class="o">*</span><span class="n">u</span><span class="p">[]{</span><span class="s">"There was an old lady "</span><span class="p">,</span><span class="s">"who "</span><span class="p">,</span><span class="s">"that "</span><span class="p">,</span><span class="s">"swallowed a "</span><span class="p">,</span><span class="s">"She swallowed the "</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">I don't know why she "</span><span class="p">,</span><span class="s">"erhaps she'll die!</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="s">""</span><span class="p">,</span><span class="s">",</span><span class="se">\n</span><span class="s">That wriggled and wiggled and tiggled inside her;</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="s">";</span><span class="se">\n</span><span class="s">How absurd"</span><span class="p">,</span><span class="s">";</span><span class="se">\n</span><span class="s">Fancy that"</span><span class="p">,</span><span class="s">";</span><span class="se">\n</span><span class="s">What a hog,"</span><span class="p">,</span><span class="s">",</span><span class="se">\n</span><span class="s">I don't know how she swallowed a "</span><span class="p">,</span><span class="s">" to catch the "</span><span class="p">,</span><span class="s">"fly"</span><span class="p">,</span><span class="s">"spider"</span><span class="p">,</span><span class="s">"bird"</span><span class="p">,</span><span class="s">"cat"</span><span class="p">,</span><span class="s">"dog"</span><span class="p">,</span><span class="s">"cow"</span><span class="p">,</span><span class="s">"horse...</span><span class="se">\n</span><span class="s">She's dead, of course!"</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="s">","</span><span class="p">,</span><span class="s">";"</span><span class="p">,</span><span class="s">" - p"</span><span class="p">,</span><span class="s">" - P"</span><span class="p">,</span><span class="s">" to swallow a "</span><span class="p">,</span><span class="s">".!;;"</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">7</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="n">i</span><span class="o">==</span><span class="mi">4</span><span class="o">?</span><span class="mi">2</span><span class="o">:</span><span class="mi">1</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">14</span><span class="o">+</span><span class="n">i</span><span class="p">];</span>
        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Q</span><span class="p">[</span><span class="mi">7</span><span class="o">+</span><span class="n">i</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">Q</span><span class="p">[</span><span class="mi">7</span><span class="o">+</span><span class="n">i</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">?</span><span class="mi">26</span><span class="o">:</span><span class="mi">7</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">14</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">27</span><span class="p">][</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">21</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="p">;</span><span class="n">j</span><span class="p">;</span><span class="n">j</span><span class="o">--</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Q</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">14</span><span class="o">+</span><span class="n">j</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">13</span><span class="o">+</span><span class="n">j</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="n">j</span><span class="o">==</span><span class="mi">1</span><span class="o">?</span><span class="mi">23</span><span class="o">:</span><span class="mi">22</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="n">j</span><span class="o">==</span><span class="mi">1</span><span class="o">?</span><span class="mi">7</span><span class="o">:</span><span class="mi">21</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="n">Q</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="o">!</span><span class="n">i</span><span class="o">?</span><span class="mi">24</span><span class="o">:</span><span class="mi">25</span><span class="p">]</span><span class="n">Q</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">There was an old lady who swallowed a fly
I don't know why she swallowed a fly - Perhaps she'll die!
There was an old lady who swallowed a spider,
That wriggled and wiggled and tiggled inside her;
She swallowed the spider to catch the fly;
I don't know why she swallowed a fly - Perhaps she'll die!
There was an old lady who swallowed a bird; 
How absurd to swallow a bird.
She swallowed the bird to catch the spider,
She swallowed the spider to catch the fly;
I don't know why she swallowed a fly - Perhaps she'll die!
There was an old lady who swallowed a cat; 
Fancy that to swallow a cat!
She swallowed the cat to catch the bird,
She swallowed the bird to catch the spider,
She swallowed the spider to catch the fly;
I don't know why she swallowed a fly - Perhaps she'll die!
There was an old lady that swallowed a dog; 
What a hog, to swallow a dog;
She swallowed the dog to catch the cat,
She swallowed the cat to catch the bird,
She swallowed the bird to catch the spider,
She swallowed the spider to catch the fly;
I don't know why she swallowed a fly - Perhaps she'll die!
There was an old lady who swallowed a cow,
I don't know how she swallowed a cow;
She swallowed the cow to catch the dog,
She swallowed the dog to catch the cat,
She swallowed the cat to catch the bird,
She swallowed the bird to catch the spider,
She swallowed the spider to catch the fly;
I don't know why she swallowed a fly - Perhaps she'll die!
There was an old lady who swallowed a horse...
She's dead, of course!</code></pre></figure>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-02-18T00:00:00+00:00">February 18, 2017</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=cmaughan&text=Code Golf 2 http://localhost:4000/code-golf-2/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/code-golf-2/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http://localhost:4000/code-golf-2/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/code-golf-2/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="http://localhost:4000/go/playing-go/" class="pagination--pager" title="Playing Go
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
    <h4 class="page__comments-title">Leave a Comment</h4>
    <section id="disqus_thread"></section>
  
</div>
    
  </article>

  
  
    <div class="page__related">
      
        <h4 class="page__related-title">You May Also Enjoy</h4>
      
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://localhost:4000/images/site/hand_door.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/go/playing-go/" rel="permalink">Playing Go
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">A game of Go with my son
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://localhost:4000/images/fitness/triathlon.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/efficiency-factor/239" rel="permalink">Efficiency Factor
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">In my last post, I showed the results of FTP test measurement.  Here I’m trying to measure my Aerobic Efficiency.  To calculate this, I did a 10 minute warm-...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://localhost:4000/images/fitness/triathlon.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/fitness/wattbike-ftp/" rel="permalink">Wattbike FTP
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">As I recover from a frozen shoulder I’ve been working on building up my fitness, primarily on the bike trainer.  It’s easier to pedal a bike than run or swim...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://localhost:4000/images/nanovg/image_thumb-300x188.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/nanovg/208" rel="permalink">Nanovg
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Nanovg is a nice little vector 2D rendering library.  I wrote a D3D11 backend for it a while back – you can get in from my fork on github, and it is now up t...</p>
  </article>
</div>
        
      </div>
    </div>
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/cmaughan"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
      <li><a href="https://facebook.com/mornymorny"><i class="fa fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
    
    
      <li><a href="http://github.com/cmaughan"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Chris Maughan. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>





  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'chrismaughancom';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






  </body>
</html>
